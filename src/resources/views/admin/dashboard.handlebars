<div class="container mt-5">
  <h2 class="mb-4">Trang quản trị hệ thống</h2>

  <!-- Tabs -->
  <ul class="nav nav-tabs" id="adminTabs" role="tablist">
    <li class="nav-item">
      <a class="nav-link active" data-bs-toggle="tab" href="#bookings">Đặt phòng</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#users">Người dùng</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#rooms">Phòng</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#roomTypes">Loại phòng</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" data-bs-toggle="tab" href="#revenue">Doanh thu</a>
    </li>
  </ul>

  <div class="tab-content mt-4">
    <!-- Đặt phòng -->
    <div class="tab-pane fade show active" id="bookings">
      {{> bookingsTab}}
    </div>

    <!-- Người dùng -->
    <div class="tab-pane fade" id="users">
      {{> usersTab}}
    </div>

    <!-- Phòng -->
    <div class="tab-pane fade" id="rooms">
      {{> roomsTab}}
    </div>

    <!-- Loại phòng -->
    <div class="tab-pane fade" id="roomTypes">
      {{> roomTypesTab}}
    </div>

    <!-- Thống kê doanh thu -->
    <div class="tab-pane fade" id="revenue">
      {{> revenueTab}}
    </div>
  </div>
</div>

<!-- THÊM SCRIPT VÀO ĐÂY -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    // Khi click tab thì lưu id tab đó vào localStorage
    const tabs = document.querySelectorAll('#adminTabs a');
    tabs.forEach(tab => {
      tab.addEventListener('shown.bs.tab', function (e) {
        localStorage.setItem('activeAdminTab', e.target.getAttribute('href'));
      });
    });

    // Khi load lại trang, kích hoạt tab đang lưu
    const activeTab = localStorage.getItem('activeAdminTab');
    if (activeTab) {
      const tabTrigger = document.querySelector(`#adminTabs a[href="${activeTab}"]`);
      if (tabTrigger) {
        new bootstrap.Tab(tabTrigger).show();
      }
    }
  });
</script>
